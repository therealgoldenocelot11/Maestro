var p="0.0.7";var v=class{constructor(e,t,n=!1){this.fn=e;this.context=t;this.once=n}},u=(r,e,t,n,a)=>{if(typeof t!="function")throw new TypeError("The listener must be a function");let s=new v(t,n||r,a);return r._events.has(e)?r._events.get(e).fn?r._events.set(e,[r._events.get(e),s]):r._events.get(e).push(s):(r._events.set(e,s),r._eventsCount++),r},o=(r,e)=>{--r._eventsCount===0?r._events=new Map:r._events.delete(e)},f=class{static get VERSION(){return p}_events=new Map;_eventsCount=0;eventNames(){return Array.from(this._events.keys())}listeners(e){let t=this._events.get(e);if(!t)return[];if(t.fn)return[t.fn];for(var n=0,a=t.length,s=new Array(a);n<a;n++)s[n]=t[n].fn;return s}listenerCount(e){let t=this._events.get(e);return t?t.fn?1:t.length:0}emit(e,...t){if(!this._events.has(e))return!1;let n=this._events.get(e),a;if(n.fn)return n.once&&this.removeListener(e,n.fn,void 0,!0),n.fn.call(n.context,...t),!0;{let s=n.length;for(a=0;a<s;a++)n[a].once&&this.removeListener(e,n[a].fn,void 0,!0),n[a].fn.call(n[a].context,...t)}return!0}on(e,t,n){return u(this,e,t,n,!1)}once(e,t,n){return u(this,e,t,n,!0)}removeListener(e,t,n,a){if(!this._events.has(e))return this;if(!t)return o(this,e),this;let s=this._events.get(e);if(s.fn)s.fn===t&&(!a||s.once)&&(!n||s.context===n)&&o(this,e);else{for(var i=0,l=[],h=s.length;i<h;i++)(s[i].fn!==t||a&&!s[i].once||n&&s[i].context!==n)&&l.push(s[i]);l.length?this._events.set(e,l.length===1?l[0]:l):o(this,e)}return this}removeAllListeners(e){return e?this._events.delete(e)&&o(this,e):(this._events=new Map,this._eventsCount=0),this}get off(){return this.removeListener}get addListener(){return this.on}};export{f as Events};
/**
 * @package      npmjs.com/package/@yandeu/events (events.min.js)
 *
 * @author       Arnout Kazemier (https://github.com/3rd-Eden)
 * @copyright    Copyright (c) 2014 Arnout Kazemier
 * @license      {@link https://github.com/primus/eventemitter3/blob/master/LICENSE|MIT}
 *
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/events
 * @license      {@link https://github.com/yandeu/events/blob/master/LICENSE|MIT}
 */
